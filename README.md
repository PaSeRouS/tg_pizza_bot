# Магазин "Продаём пиццу"

Этот проект реализует простой бот-магазин для продажи товаров.

## Установка и настройка окружения

На вашей системе должен быть установлен Python3.

Вы можете использовать `pip` (или `pip3` для избежания конфликта с python2) для установки нужных библиотек.
```
pip install -r requirements.txt
```

Этот скрипт использует файл `.env` в корневой директории для хранения нужных переменных для работы бота. Не забудьте его создать!

Внутри фашего файла `.env` вы можете указать следующие настройки:

| Название | Description |
| - | - |
| `CLIENT_ID` | Идентификатор клиента вашего [магазина](https://www.elasticpath.com/) для доступа к API.
| `CLIENT_SECRET` | Секретный ключ клиента вашего [магазина](https://www.elasticpath.com/) для доступа к API.
| `TELEGRAM_TOKEN` | Токен вашего телеграм-бота.
| `REDIS_HOST` | Адрес хоста вашего сервера базы данных Redis.
| `REDIS_PORT` | Номер порта вашего сервера базы данных Redis.
| `REDIS_PASSWORD` | Пароль для подключения к вашей базе данных Redis.
| `YANDEX_API` | [API Яндекс-геокодера](https://dvmn.org/encyclopedia/api-docs/yandex-geocoder-api/).
| `PAYMENT_PROVIDER_TOKEN` | Ваш токен оплаты в телеграм. Как его получить описано [здесь](https://core.telegram.org/bots/payments)

Если вы не знаете как получить токен для бота в телеграме, вы можете узнать как его получить [здесь](https://core.telegram.org/bots#3-how-do-i-create-a-bot).

Настояшая реализация ботов частично полагается на базу данных Redis для хранения данных пользователя. Для работы вам нужно её настроить.
Самый легкий способ это сделать - зарегистрироваться бесплатную версию на облачной платформе [Redis](https://redis.com/try-free/) (потребуется VPN).
После регистрации, используйте адрес хоста, порт и пароль пользователя по умолчанию для переменных окружения `REDIS_HOST`, `REDIS_PORT` и `REDIS_PASSWORD` соответсвтенно.

## Запуск

Используйте файл `bot.py`, чтобы запустить телеграм бот:

```
python bot.py 
```

## Реализация на facebook

Для начала нужно поднять данный репозиторий на любом сайте для деплоя приложений (напрмер, heroku) ли на собственном сервере.

Внутри вашего `.env` файла нужно добавить следующие переменные в дополнение уже созданным:

| Название | Description |
| - | - |
| PAGE_ACCESS_TOKEN | Токен facebook, который можно получить по [инструкции](https://dvmn.org/encyclopedia/api-docs/how-to-get-facebook-api/). |
| VERIFY_TOKEN | Токен для верификации, вы укажете его при создании страницы приложения |

После указания новых переменных и успешного деплоя бот станет доступным для работы.

## Цели проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).